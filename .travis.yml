language: php

# We can leave this version here for syntax, but it won't be used.
php:
  - '8.0'  # Placeholder; actual PHP 8.3 will be installed manually.

dist: focal  # Use a newer distribution that better supports PHP 8.3

before_install:
  - sudo add-apt-repository ppa:ondrej/php -y
  - sudo apt-get update
  - sudo apt-get install -y php8.3 php8.3-cli php8.3-common php8.3-mbstring php8.3-xml php8.3-curl

install:
  - composer install --no-interaction --prefer-dist --optimize-autoloader

script:
  - php --version  # Verify PHP 8.3 is installed
  - vendor/bin/phpunit --configuration phpunit.xml

deploy:
  provider: script
  script: bash deploy.sh
  on:
    branch: master
